<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
<script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="h-screen overflow-hidden">
	<div class="flex h-screen">
		<!-- Left Sidebar -->
		<aside
			class="w-64 bg-teal-500 text-white flex flex-col items-center py-6 fixed top-0 left-0 h-full">
			<div
				class="p-5 bg-black text-white w-20 h-20 rounded-full flex justify-center items-center">
				<i class="fa-solid fa-stethoscope text-3xl font-bold"></i>
			</div>

			<nav class="flex flex-col text-white text-lg mt-6 w-full px-4">
				<!-- Dashboard -->
				<a href="./admin.html"
					class="my-2 flex items-center gap-3 hover:bg-teal-600 px-3 py-2 rounded-lg transition">
					<i class="fa-solid fa-house-user"></i> Dashboard
				</a>

				<!-- Patient -->
				<div class="group">
					<div
						class="w-full flex items-center justify-between my-2 px-3 py-2 rounded-lg hover:bg-teal-600 transition cursor-pointer">
						<span><i class="fa-solid fa-person-cane mr-2"></i> Patient</span>
						<i class="fa-solid fa-chevron-down text-sm"></i>
					</div>
					<div class="ml-8 hidden group-hover:block space-y-2">

						<a href="./viewPatients.html" class="block hover:text-gray-200">View
							Patients</a>

					</div>
				</div>

				<!-- Doctor -->
				<div class="group">
					<div
						class="w-full flex items-center justify-between my-2 px-3 py-2 rounded-lg hover:bg-teal-600 transition cursor-pointer">
						<span><i class="fa-solid fa-user-doctor mr-2"></i> Doctor</span> <i
							class="fa-solid fa-chevron-down text-sm"></i>
					</div>
					<div class="ml-8 hidden group-hover:block space-y-2">
						<a href="./addDocter.html" class="block hover:text-gray-200">Add
							Doctor</a> <a href="./viewDocter.html"
							class="block hover:text-gray-200">View Doctors</a>
					</div>
				</div>

				<!-- Appointment -->
				<div class="group">
					<div
						class="w-full flex items-center justify-between my-2 px-3 py-2 rounded-lg hover:bg-teal-600 transition cursor-pointer">
						<span><i class="fa-solid fa-calendar-check mr-2"></i>
							Appointment</span> <i class="fa-solid fa-chevron-down text-sm"></i>
					</div>
					<div class="ml-8 hidden group-hover:block space-y-2">
						 <a href="./viewAppointment.html"
							class="block hover:text-gray-200">View Appointments</a>
					</div>
				</div>

				<!-- Bill -->
				<div class="group">
					<div
						class="w-full flex items-center justify-between my-2 px-3 py-2 rounded-lg hover:bg-teal-600 transition cursor-pointer">
						<span><i class="fa-solid fa-money-bill mr-2"></i> Bill</span> <i
							class="fa-solid fa-chevron-down text-sm"></i>
					</div>
					<div class="ml-8 hidden group-hover:block space-y-2">
						<a href="./generateBills.html" class="block hover:text-gray-200">Generate
							Bill</a> <a href="./viewBills.html" class="block hover:text-gray-200">Payment
							History</a>
					</div>
				</div>

				<!-- Staff -->
				<div class="group">
					<div
						class="w-full flex items-center justify-between my-2 px-3 py-2 rounded-lg hover:bg-teal-600 transition cursor-pointer">
						<span><i class="fa-solid fa-users mr-2"></i> Staff</span> <i
							class="fa-solid fa-chevron-down text-sm"></i>
					</div>
					<div class="ml-8 hidden group-hover:block space-y-2">
						<a href="./addStaff.html" class="block hover:text-gray-200">Add
							Staff</a> <a href="./viewStaff.html"
							class="block hover:text-gray-200">View Roles</a>
					</div>
				</div>

				<!-- Reports -->
				<a href="./reports.html"
					class="my-2 flex items-center gap-3 hover:bg-teal-600 px-3 py-2 rounded-lg transition">
					<i class="fa-solid fa-file-alt"></i> Reports
				</a>

				<!-- Logout -->
				<a href="./index.html"
					class="my-2 flex items-center gap-3 hover:bg-red-600 px-3 py-2 rounded-lg transition">
					<i class="fa-solid fa-right-from-bracket"></i> Logout
				</a>
			</nav>
		</aside>


		<!-- Main Content Area -->
		<div class="flex-1 ml-64 flex flex-col">
			<!-- Header -->
			<header
				class="h-20 bg-white shadow-md flex justify-end items-center px-6 fixed top-0 left-64 right-0 z-10">
				<div>
					<p class="mx-3 font-bold text-center">vamsi teruvai</p>
					<p class="text-sm text-center">Admin Profile</p>
				</div>
				<div
					class="border-solid border w-15 h-15 rounded-full flex items-center justify-center">
					<img src="./assets/blogimg1.jpg" alt="profile"
						class="mx-3 w-12 h-12 rounded-full">
				</div>
			</header>

			<!-- Scrollable Content -->
			<main class="mt-20 p-6 overflow-y-auto">
				<div class="bg-gray-100 min-h-screen p-4">
					<div class="max-w-7xl mx-auto space-y-8">

						<!-- Top Section -->
						<div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

							<!-- Profile Card -->
							<div class="bg-white rounded-2xl shadow-lg overflow-hidden">
								<div class="bg-pink-400 h-32"></div>
								<div class="relative -mt-16 flex flex-col items-center p-6">
									<img src="./assets/patientLogo.jpg" alt="profile"
										class="w-32 h-32 rounded-full border-4 border-white shadow-md object-cover">
									<h2 class="text-xl font-semibold mt-4 pname">Loading...</h2>

									<div class="w-full mt-6 space-y-4 text-center text-gray-700">

										<div>
											<p class="font-semibold">Email ID</p>
											<p class="pemail">Loading..</p>
										</div>
										<div>
											<p class="font-semibold">Phone</p>
											<p class="pphone">Loading...</p>
										</div>
										<div>
											<p class="font-semibold">Address</p>
											<p class="paddress">Loading...</p>
										</div>
									</div>
								</div>
							</div>

							<!-- General Report -->
							<div class="lg:col-span-2 bg-white rounded-2xl shadow-lg p-6">
								<h3 class="text-lg font-semibold mb-4">General Report</h3>

								<!-- Blood Pressure -->
								<p class="font-medium text-gray-700">Blood Pressure</p>
								<div class="w-full bg-gray-200 rounded h-4 mb-4">
									<div class="bg-green-500 h-4 rounded show transistion duration-150 ease-out" style="width: 50%"></div>
								</div>

								<!-- Heart Beat -->
								<p class="font-medium text-gray-700">Heart Beat</p>
								<div class="w-full bg-gray-200 rounded h-4 mb-4">
									<div class="bg-blue-500 h-4 rounded show transistion duration-150 ease-out" style="width: 40%"></div>
								</div>

								<!-- Haemoglobin -->
								<p class="font-medium text-gray-700">Haemoglobin</p>
								<div class="w-full bg-gray-200 rounded h-4 mb-4">
									<div class="bg-yellow-500 h-4 rounded show transistion duration-150 ease-out" style="width: 60%"></div>
								</div>

								<!-- Sugar -->
								<p class="font-medium text-gray-700">Sugar</p>
								<div class="w-full bg-gray-200 rounded h-4">
									<div class="bg-red-500 h-4 rounded show transistion duration-150 ease-out" style="width: 80%"></div>
								</div>
							</div>
						</div>

						<!-- Tables Section -->
						<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

							<!-- Activity Table -->
							<div class="bg-white rounded-2xl shadow-lg p-6 overflow-x-auto">
								<h3 class="text-lg font-semibold mb-4">Activity</h3>
								<table class="min-w-full text-sm text-left text-gray-700">
									<thead class="bg-gray-100 text-gray-600 uppercase">
										<tr>
											<th class="px-4 py-2">Date</th>
											<th class="px-4 py-2">Activity</th>

										</tr>
									</thead>
									<tbody class="divide-y">

									</tbody>
								</table>
							</div>

							<!-- Billing Table -->
							<div class="bg-white rounded-2xl shadow-lg p-6 overflow-x-auto">
								<h3 class="text-lg font-semibold mb-4">Billing</h3>
								<table class="min-w-full text-sm text-left text-gray-700">
									<thead class="bg-gray-100 text-gray-600 uppercase">
										<tr>
										
											<th class="px-4 py-2">Date</th>
											<th class="px-4 py-2">Amount</th>

										</tr>
									</thead>
									<tbody class="divide-y" id="bill">
										
									</tbody>
								</table>
							</div>

						</div>
					</div>
				</div>
			</main>
		</div>
	</div>

	<!-- FontAwesome -->
	<script src="https://kit.fontawesome.com/687c341695.js"
		crossorigin="anonymous"></script>
	<script>
    setTimeout(async ()=>{
        const res=await fetch("http://localhost:2025/hospital_project/PatientServlet");
        const data=await res.json();
        
        const s=sessionStorage.getItem('patientID');
        
        
        data.map((ele)=>{
        	if(ele.patient_id==s){
        		document.querySelector('.pname').textContent=ele.fullname;
        		document.querySelector('.pemail').textContent=ele.email;
        		document.querySelector('.pphone').textContent=ele.phone;
        		document.querySelector('.paddress').textContent=ele.address;
        		
        		
        		let tr = document.createElement('tr');

        		let td1 = document.createElement('td');
        		td1.classList.add('px-4', 'py-2');  
        		td1.textContent = ele.preferred_date;

        		let td2 = document.createElement('td');
        		td2.classList.add('px-4', 'py-2');  
        		td2.textContent = ele.reason;

        		tr.appendChild(td1);
        		tr.appendChild(td2);

        		let tbody = document.querySelector('tbody');
        		tbody.appendChild(tr);
        		
        		
        		let reports=document.querySelectorAll('.show');

        		function getRandomInt(min, max) {
        			for(let i of reports){
        				i.style.width=`${Math.floor(Math.random() * (max - min + 1)) + min}%`
        			}
        		
        		}
        		getRandomInt(10, 90);
        	}
        });
        
    },1000);
    
    setTimeout(async ()=>{
        const res=await fetch("http://localhost:2025/hospital_project/BillServlet");
        const data=await res.json();
        
        const s=sessionStorage.getItem('patientID');
        
        
        data.map((ele)=>{
        	if(ele.patient_id==s){
        		
        		let tr = document.createElement('tr');

        		let td1 = document.createElement('td');
        		td1.classList.add('px-4', 'py-2');  
        		td1.textContent = ele.bill_date;

        		let td2 = document.createElement('td');
        		td2.classList.add('px-4', 'py-2');  
        		td2.textContent = ele.total_amount;

        		tr.appendChild(td1);
        		tr.appendChild(td2);

        		let tbody = document.querySelector('#bill');
        		tbody.appendChild(tr);
        		
        	}
        });
        
    },1000);
    
    
    </script>
</body>

</html>